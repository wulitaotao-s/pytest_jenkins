{"created": 1766161057.3263564, "duration": 31.190107345581055, "exitcode": 3, "root": "C:\\ProgramData\\Jenkins\\.jenkins\\workspace\\pytest-ci", "environment": {}, "summary": {"failed": 1, "total": 1, "collected": 5}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "Test_cases", "type": "Dir"}]}, {"nodeid": "Test_cases/test_acs_connection.py", "outcome": "passed", "result": [{"nodeid": "Test_cases/test_acs_connection.py::test_acs_connection", "type": "Function", "lineno": 8}]}, {"nodeid": "Test_cases/test_device_info.py", "outcome": "passed", "result": [{"nodeid": "Test_cases/test_device_info.py::test_device_information_direct", "type": "Function", "lineno": 9}]}, {"nodeid": "Test_cases/test_internet_dhcp.py", "outcome": "passed", "result": [{"nodeid": "Test_cases/test_internet_dhcp.py::test_wan_dhcp_ping_jd", "type": "Function", "lineno": 9}]}, {"nodeid": "Test_cases/test_internet_pppoe.py", "outcome": "passed", "result": [{"nodeid": "Test_cases/test_internet_pppoe.py::test_wan_pppoe_ping_jd", "type": "Function", "lineno": 9}]}, {"nodeid": "Test_cases/test_internet_static.py", "outcome": "passed", "result": [{"nodeid": "Test_cases/test_internet_static.py::test_wan_static_ping_jd", "type": "Function", "lineno": 9}]}, {"nodeid": "Test_cases", "outcome": "passed", "result": [{"nodeid": "Test_cases/test_acs_connection.py", "type": "Module"}, {"nodeid": "Test_cases/test_device_info.py", "type": "Module"}, {"nodeid": "Test_cases/test_internet_dhcp.py", "type": "Module"}, {"nodeid": "Test_cases/test_internet_pppoe.py", "type": "Module"}, {"nodeid": "Test_cases/test_internet_static.py", "type": "Module"}]}], "tests": [{"nodeid": "Test_cases/test_acs_connection.py::test_acs_connection", "lineno": 8, "outcome": "failed", "keywords": ["test_acs_connection", "test_acs_connection.py", "Test_cases", "pytest-ci", ""], "setup": {"duration": 1.8684439000062412, "outcome": "passed"}, "call": {"duration": 26.713775299998815, "outcome": "failed", "crash": {"path": "D:\\python_evn\\Lib\\site-packages\\selenium\\webdriver\\remote\\errorhandler.py", "lineno": 232, "message": "selenium.common.exceptions.ElementClickInterceptedException: Message: element click intercepted: Element <input class=\"t-input__inner\" readonly=\"\" placeholder=\"please select\" type=\"text\" unselectable=\"on\" spellcheck=\"false\" value=\"1_TR069_R_VID_400\"> is not clickable at point (733, 248). Other element would receive the click: <li class=\"t-select-option t-size-m t-is-selected\" title=\"3\" id=\"3\">...</li>\n  (Session info: chrome=126.0.6478.127); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception\nStacktrace:\n\tGetHandleVerifier [0x00007FF7F75AEEC2+31554]\n\t(No symbol) [0x00007FF7F7527EF9]\n\t(No symbol) [0x00007FF7F73E872A]\n\t(No symbol) [0x00007FF7F744012E]\n\t(No symbol) [0x00007FF7F743DAF2]\n\t(No symbol) [0x00007FF7F743AF8B]\n\t(No symbol) [0x00007FF7F743A156]\n\t(No symbol) [0x00007FF7F742C151]\n\t(No symbol) [0x00007FF7F745D02A]\n\t(No symbol) [0x00007FF7F742BA76]\n\t(No symbol) [0x00007FF7F745D240]\n\t(No symbol) [0x00007FF7F747C977]\n\t(No symbol) [0x00007FF7F745CDD3]\n\t(No symbol) [0x00007FF7F742A33B]\n\t(No symbol) [0x00007FF7F742AED1]\n\tGetHandleVerifier [0x00007FF7F78B8B5D+3217373]\n\tGetHandleVerifier [0x00007FF7F7905B23+3532707]\n\tGetHandleVerifier [0x00007FF7F78FB120+3489184]\n\tGetHandleVerifier [0x00007FF7F765E796+750614]\n\t(No symbol) [0x00007FF7F753377F]\n\t(No symbol) [0x00007FF7F752EB34]\n\t(No symbol) [0x00007FF7F752ECC2]\n\t(No symbol) [0x00007FF7F751E18F]\n\tBaseThreadInitThunk [0x00007FFDED667374+20]\n\tRtlUserThreadStart [0x00007FFDEF19CC91+33]"}, "traceback": [{"path": "Test_cases\\test_acs_connection.py", "lineno": 128, "message": ""}, {"path": "D:\\python_evn\\Lib\\site-packages\\selenium\\webdriver\\remote\\webelement.py", "lineno": 114, "message": "in click"}, {"path": "D:\\python_evn\\Lib\\site-packages\\selenium\\webdriver\\remote\\webelement.py", "lineno": 508, "message": "in _execute"}, {"path": "D:\\python_evn\\Lib\\site-packages\\selenium\\webdriver\\remote\\webdriver.py", "lineno": 432, "message": "in execute"}, {"path": "D:\\python_evn\\Lib\\site-packages\\selenium\\webdriver\\remote\\errorhandler.py", "lineno": 232, "message": "ElementClickInterceptedException"}], "longrepr": "driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"c3bf63afa63efd767c86ea6b7ce2e8a4\")>\n\n    def test_acs_connection(driver):\n        \"\"\"\u6d4b\u8bd5 ACS \u8fde\u63a5\u914d\u7f6e\uff1a\u8bbe\u7f6e TR069 WAN + CWMP\uff0c\u9a8c\u8bc1\u8fde\u901a\u6027\"\"\"\n    \n        # ========== 1. \u767b\u5f55 ==========\n        login(driver)\n    \n        # ========== 2. \u8fdb\u5165 Basic > WAN \u9875\u9762 ==========\n        print(\"\u2192 \u8df3\u8f6c\u5230 WAN \u914d\u7f6e\u9875\u9762\")\n        driver.get(ec.Basic_wan)\n        wait = WebDriverWait(driver, 15)\n    \n        # ========== 3. \u914d\u7f6e TR069 WAN \u6761\u76ee ==========\n        # \u70b9\u51fb Request Name \u8f93\u5165\u6846\uff08\u5c55\u5f00\u4e0b\u62c9\uff09\n        print(\"\u2192 \u70b9\u51fb Request Name \u4e0b\u62c9\u6846\")\n        request_name_input = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, ec.wan_Request_Name)))\n        request_name_input.click()\n    \n        # \u9009\u62e9 TR069 \u9009\u9879\uff08\u7cbe\u786e\u5339\u914d title=\"TR069\"\uff09\n        print(\"\u2192 \u9009\u62e9 Request Name = TR069\")\n        tr069_option = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, ec.wan_Request_Name_TR069)))\n        tr069_option.click()\n    \n        # \u8bbe\u7f6e Access Type = Route\n        print(\"\u2192 \u8bbe\u7f6e Access Type = Route\")\n        access_type_input = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, ec.wan_Access_Type)))\n        access_type_input.click()\n        route_option = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, ec.wan_Access_Type_Route)))\n        route_option.click()\n    \n        # \u8bbe\u7f6e Bearer Service = TR069\n        print(\"\u2192 \u8bbe\u7f6e Bearer Service = TR069\")\n        bearer_input = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, ec.wan_Bearer_Service)))\n        bearer_input.click()\n        bearer_tr069 = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, ec.wan_Bearer_Service_TR069)))\n        bearer_tr069.click()\n    \n        # \u8bbe\u7f6e Connection Mode = DHCP\uff08\u4ec5\u5728 Route \u6a21\u5f0f\u4e0b\u51fa\u73b0\uff09\n        print(\"\u2192 \u8bbe\u7f6e Connection Mode = DHCP\")\n        conn_mode_input = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, ec.wan_Connection_Mode)))\n        conn_mode_input.click()\n        dhcp_option = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, ec.wan_Connection_Mode_DHCP)))\n        dhcp_option.click()\n    \n        # \u8bbe\u7f6e VLAN ID = 400\uff08\u4f7f\u7528 JS \u5b89\u5168\u8bbe\u7f6e\uff09\n        print(\"\u2192 \u8bbe\u7f6e VLAN ID = 400\")\n        safe_set_input_value(driver, ec.wan_VLAN_ID, \"400\")\n    \n        # \u8bbe\u7f6e MTU = 1500\n        print(\"\u2192 \u8bbe\u7f6e MTU = 1500\")\n        safe_set_input_value(driver, ec.wan_MTU, \"1500\")\n    \n        # \u5224\u65ad\u5e76\u542f\u7528 WAN \u5f00\u5173\n        switch = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, ec.wan_Enable)))\n        if \"t-is-checked\" not in switch.get_attribute(\"class\"):\n            switch.click()\n            print(\"\u2192 \u542f\u7528 WAN\")\n        else:\n            print(\"\u2192 WAN \u5df2\u542f\u7528\")\n    \n        # \u4fdd\u5b58 WAN \u914d\u7f6e\n        print(\"\u2192 \u4fdd\u5b58 WAN \u914d\u7f6e\")\n        save_btn = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, ec.wan_commit)))\n        save_btn.click()\n        time.sleep(3)\n    \n        # ========== 4. \u914d\u7f6e CWMP ==========\n        print(\"\u2192 \u8df3\u8f6c\u5230 CWMP \u914d\u7f6e\u9875\u9762\")\n        driver.get(ec.Basic_cwmp)\n    \n        # \u542f\u7528 Periodic Notification\uff08\u53ef\u9009\uff09\n        period_enable = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, ec.cwmp_Periodic_Notification_Enable)))\n        if not period_enable.is_selected():\n            period_enable.click()\n    \n        # \u8bbe\u7f6e Interval = 30\n        print(\"\u2192 \u8bbe\u7f6e Notification Interval = 30\")\n        safe_set_input_value(driver, ec.cwmp_Notification_Interval, \"30\")\n    \n        # \u8bbe\u7f6e ACS Server URL\n        print(\"\u2192 \u8bbe\u7f6e ACS Server URL\")\n        safe_set_input_value(driver, ec.cwmp_Server_URL, \"http://192.168.140.2:7547\")\n    \n        # \u8bbe\u7f6e Platform \u7528\u6237\u540d/\u5bc6\u7801\n        print(\"\u2192 \u8bbe\u7f6e Platform \u8ba4\u8bc1\u4fe1\u606f\")\n        safe_set_input_value(driver, ec.cwmp_Platform_Username, \"admin\")\n        safe_set_input_value(driver, ec.cwmp_Platform_Password, \"admin\")\n    \n        # \u8bbe\u7f6e Terminal \u7528\u6237\u540d/\u5bc6\u7801\n        print(\"\u2192 \u8bbe\u7f6e Terminal \u8ba4\u8bc1\u4fe1\u606f\")\n        safe_set_input_value(driver, ec.cwmp_Terminal_Username, \"admin\")\n        safe_set_input_value(driver, ec.cwmp_Terminal_Password, \"admin\")\n    \n        # \u4fdd\u5b58 CWMP \u914d\u7f6e\n        print(\"\u2192 \u4fdd\u5b58 CWMP \u914d\u7f6e\")\n        cwmp_save = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, ec.cwmp_commit)))\n        cwmp_save.click()\n        time.sleep(5)  # \u7b49\u5f85 ACS \u8fde\u63a5\u5efa\u7acb\n    \n        # ========== 5. \u9a8c\u8bc1\u8fde\u63a5\u72b6\u6001 ==========\n        print(\"\u2192 \u8fd4\u56de WAN \u9875\u9762\u68c0\u67e5 TR069 \u8fde\u63a5\u72b6\u6001\")\n        driver.get(ec.Basic_wan)\n        time.sleep(10)\n    \n        page_text = driver.find_element(By.TAG_NAME, \"body\").text\n        connected = \"Connected\" in page_text\n        if connected:\n            print(\"TR069 WAN \u5df2\u6210\u529f\u8fde\u63a5\")\n        else:\n            print(\"TR069 WAN \u672a\u8fde\u63a5\")\n    \n        # ========== 6. Ping \u6d4b\u8bd5 ==========\n        print(\"\u2192 \u6267\u884c Ping \u6d4b\u8bd5\")\n        driver.get(ec.Advanced_System_System_Test)\n    \n        # \u8bbe\u7f6e Ping \u6b21\u6570\n        safe_set_input_value(driver, ec.System_Test_Ping_Repeat_Times, \"3\")\n    \n        # \u9009\u62e9\u63a5\u53e3\uff08TR069\uff09\n        interface_input = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, ec.System_Test_Ping_Interface)))\n>       interface_input.click()\n\nTest_cases\\test_acs_connection.py:128: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nD:\\python_evn\\Lib\\site-packages\\selenium\\webdriver\\remote\\webelement.py:114: in click\n    self._execute(Command.CLICK_ELEMENT)\nD:\\python_evn\\Lib\\site-packages\\selenium\\webdriver\\remote\\webelement.py:508: in _execute\n    return self._parent.execute(command, params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nD:\\python_evn\\Lib\\site-packages\\selenium\\webdriver\\remote\\webdriver.py:432: in execute\n    self.error_handler.check_response(response)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.remote.errorhandler.ErrorHandler object at 0x00000218648A2810>\nresponse = {'status': 400, 'value': '{\"value\":{\"error\":\"element click intercepted\",\"message\":\"element click intercepted: Element ...07FF7F751E18F]\\\\n\\\\tBaseThreadInitThunk [0x00007FFDED667374+20]\\\\n\\\\tRtlUserThreadStart [0x00007FFDEF19CC91+33]\\\\n\"}}'}\n\n    def check_response(self, response: dict[str, Any]) -> None:\n        \"\"\"Check that a JSON response from the WebDriver does not have an error.\n    \n        Args:\n            response: The JSON response from the WebDriver server as a dictionary\n                object.\n    \n        Raises:\n            WebDriverException: If the response contains an error message.\n        \"\"\"\n        status = response.get(\"status\", None)\n        if not status or status == ErrorCode.SUCCESS:\n            return\n        value = None\n        message = response.get(\"message\", \"\")\n        screen: str = response.get(\"screen\", \"\")\n        stacktrace = None\n        if isinstance(status, int):\n            value_json = response.get(\"value\", None)\n            if value_json and isinstance(value_json, str):\n                try:\n                    value = json.loads(value_json)\n                    if isinstance(value, dict):\n                        if len(value) == 1:\n                            value = value[\"value\"]\n                        status = value.get(\"error\", None)\n                        if not status:\n                            status = value.get(\"status\", ErrorCode.UNKNOWN_ERROR)\n                            message = value.get(\"value\") or value.get(\"message\")\n                            if not isinstance(message, str):\n                                value = message\n                                message = message.get(\"message\") if isinstance(message, dict) else None\n                        else:\n                            message = value.get(\"message\", None)\n                except ValueError:\n                    pass\n    \n        exception_class: type[WebDriverException]\n        e = ErrorCode()\n        error_codes = [item for item in dir(e) if not item.startswith(\"__\")]\n        for error_code in error_codes:\n            error_info = getattr(ErrorCode, error_code)\n            if isinstance(error_info, list) and status in error_info:\n                exception_class = getattr(ExceptionMapping, error_code, WebDriverException)\n                break\n        else:\n            exception_class = WebDriverException\n    \n        if not value:\n            value = response[\"value\"]\n        if isinstance(value, str):\n            raise exception_class(value)\n        if message == \"\" and \"message\" in value:\n            message = value[\"message\"]\n    \n        screen = None  # type: ignore[assignment]\n        if \"screen\" in value:\n            screen = value[\"screen\"]\n    \n        stacktrace = None\n        st_value = value.get(\"stackTrace\") or value.get(\"stacktrace\")\n        if st_value:\n            if isinstance(st_value, str):\n                stacktrace = st_value.split(\"\\n\")\n            else:\n                stacktrace = []\n                try:\n                    for frame in st_value:\n                        line = frame.get(\"lineNumber\", \"\")\n                        file = frame.get(\"fileName\", \"<anonymous>\")\n                        if line:\n                            file = f\"{file}:{line}\"\n                        meth = frame.get(\"methodName\", \"<anonymous>\")\n                        if \"className\" in frame:\n                            meth = f\"{frame['className']}.{meth}\"\n                        msg = \"    at %s (%s)\"\n                        msg = msg % (meth, file)\n                        stacktrace.append(msg)\n                except TypeError:\n                    pass\n        if exception_class == UnexpectedAlertPresentException:\n            alert_text = None\n            if \"data\" in value:\n                alert_text = value[\"data\"].get(\"text\")\n            elif \"alert\" in value:\n                alert_text = value[\"alert\"].get(\"text\")\n            raise exception_class(message, screen, stacktrace, alert_text)  # type: ignore[call-arg]  # mypy is not smart enough here\n>       raise exception_class(message, screen, stacktrace)\nE       selenium.common.exceptions.ElementClickInterceptedException: Message: element click intercepted: Element <input class=\"t-input__inner\" readonly=\"\" placeholder=\"please select\" type=\"text\" unselectable=\"on\" spellcheck=\"false\" value=\"1_TR069_R_VID_400\"> is not clickable at point (733, 248). Other element would receive the click: <li class=\"t-select-option t-size-m t-is-selected\" title=\"3\" id=\"3\">...</li>\nE         (Session info: chrome=126.0.6478.127); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception\nE       Stacktrace:\nE       \tGetHandleVerifier [0x00007FF7F75AEEC2+31554]\nE       \t(No symbol) [0x00007FF7F7527EF9]\nE       \t(No symbol) [0x00007FF7F73E872A]\nE       \t(No symbol) [0x00007FF7F744012E]\nE       \t(No symbol) [0x00007FF7F743DAF2]\nE       \t(No symbol) [0x00007FF7F743AF8B]\nE       \t(No symbol) [0x00007FF7F743A156]\nE       \t(No symbol) [0x00007FF7F742C151]\nE       \t(No symbol) [0x00007FF7F745D02A]\nE       \t(No symbol) [0x00007FF7F742BA76]\nE       \t(No symbol) [0x00007FF7F745D240]\nE       \t(No symbol) [0x00007FF7F747C977]\nE       \t(No symbol) [0x00007FF7F745CDD3]\nE       \t(No symbol) [0x00007FF7F742A33B]\nE       \t(No symbol) [0x00007FF7F742AED1]\nE       \tGetHandleVerifier [0x00007FF7F78B8B5D+3217373]\nE       \tGetHandleVerifier [0x00007FF7F7905B23+3532707]\nE       \tGetHandleVerifier [0x00007FF7F78FB120+3489184]\nE       \tGetHandleVerifier [0x00007FF7F765E796+750614]\nE       \t(No symbol) [0x00007FF7F753377F]\nE       \t(No symbol) [0x00007FF7F752EB34]\nE       \t(No symbol) [0x00007FF7F752ECC2]\nE       \t(No symbol) [0x00007FF7F751E18F]\nE       \tBaseThreadInitThunk [0x00007FFDED667374+20]\nE       \tRtlUserThreadStart [0x00007FFDEF19CC91+33]\n\nD:\\python_evn\\Lib\\site-packages\\selenium\\webdriver\\remote\\errorhandler.py:232: ElementClickInterceptedException"}, "teardown": {"duration": 2.2134419000067282, "outcome": "passed"}}]}